{"version":3,"file":"fiber.js","names":["Clock","Either","Exit","FiberId","FiberStatus","dual","pipe","HashSet","number","Option","order","pipeArguments","hasProperty","core","fiberScope","runtimeFlags","FiberSymbolKey","FiberTypeId","Symbol","for","fiberVariance","_E","_","_A","fiberProto","arguments","RuntimeFiberSymbolKey","RuntimeFiberTypeId","Order","tuple","mapInput","fiber","id","startTimeMillis","isFiber","u","isRuntimeFiber","self","_await","await","children","done","exit","none","succeed","inheritAll","void","poll","some","interruptAsFork","dump","map","status","dumpAll","fibers","forEachSequential","fail","error","failCause","cause","fromEffect","effect","interrupted","fiberId","interrupt","interruptAll","flatMap","interruptAllAs","forEachSequentialDiscard","zipRight","join","zipLeft","flatten","f","mapEffect","a","sync","forEachEffect","result","_tag","value","mapFiber","match","onFailure","onSuccess","onFiber","onRuntimeFiber","never","orElse","that","getOrElse","zipWith","exit1","exit2","isSuccess","option1","option2","interruptAsFiber","asVoid","orElseEither","left","right","parseMs","milliseconds","roundTowardsZero","Math","floor","ceil","days","hours","minutes","seconds","microseconds","nanoseconds","renderStatus","isDone","isRunning","isInterruptible","interruptible","pretty","currentTimeMillis","now","time","lifeMsg","waitMsg","isSuspended","ids","blockingOn","size","Array","from","statusMsg","unsafeRoots","globalScope","roots","void_","currentFiberURI","getCurrentFiber","fromNullable","globalThis"],"sources":["../../../src/internal/fiber.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}