{"version":3,"file":"tSemaphore.js","names":["Cause","_interopRequireWildcard","require","Effect","_Function","STM","core","tRef","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TSemaphoreSymbolKey","TSemaphoreTypeId","exports","Symbol","for","TSemaphoreImpl","permits","constructor","make","map","acquire","self","acquireN","dual","withSTMRuntime","driver","IllegalArgumentException","value","unsafeGet","journal","retry","succeed","unsafeSet","available","release","releaseN","current","withPermit","semaphore","withPermits","uninterruptibleMask","restore","zipRight","commit","ensuring","withPermitScoped","withPermitsScoped","acquireReleaseInterruptible","unsafeMakeSemaphore","TRefImpl"],"sources":["../../../../src/internal/stm/tSemaphore.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}