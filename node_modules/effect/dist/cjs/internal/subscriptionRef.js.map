{"version":3,"file":"subscriptionRef.js","names":["Effect","_interopRequireWildcard","require","_Function","_Pipeable","PubSub","Readable","Ref","Subscribable","Synchronized","_circular","_ref","stream","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SubscriptionRefSymbolKey","SubscriptionRefTypeId","exports","Symbol","for","subscriptionRefVariance","_A","_","SubscriptionRefImpl","ref","pubsub","semaphore","TypeId","RefTypeId","refVariance","SynchronizedRefTypeId","synchronizedVariance","constructor","pipe","pipeArguments","arguments","changes","flatMap","map","fromPubSub","scoped","s","concat","make","withPermits","unwrapScoped","modify","f","modifyEffect","succeed","b","as","zipLeft","publish","self","value","all","unbounded","makeSemaphore","dual"],"sources":["../../../src/internal/subscriptionRef.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}