{"version":3,"file":"handoff.js","names":["Deferred","_interopRequireWildcard","require","Effect","_Function","Option","Ref","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","HandoffTypeId","exports","Symbol","for","OP_HANDOFF_STATE_EMPTY","OP_HANDOFF_STATE_FULL","handoffStateEmpty","notifyConsumer","_tag","handoffStateFull","value","notifyProducer","handoffStateMatch","onEmpty","onFull","self","handoffVariance","_A","_","make","pipe","flatMap","deferred","map","ref","offer","dual","flatten","modify","state","zipRight","succeed","await","take","as","poll","none","some"],"sources":["../../../../src/internal/stream/handoff.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}