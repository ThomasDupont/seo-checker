{"version":3,"file":"FiberMap.js","names":["Effect","_interopRequireWildcard","require","Cause","Deferred","Exit","Fiber","FiberId","FiberRef","_Function","Inspectable","Iterable","MutableHashMap","Option","_Pipeable","Predicate","Runtime","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TypeId","exports","Symbol","for","isFiberMap","hasProperty","Proto","iterator","state","_tag","empty","backing","toString","format","toJSON","_id","NodeInspectSymbol","pipe","pipeArguments","arguments","unsafeMake","deferred","self","create","make","acquireRelease","map","zipRight","clear","suspend","done","void","makeRuntime","flatMap","runtime","unsafeSet","dual","args","key","fiber","options","unsafeInterruptAsFork","interruptAs","none","previous","onlyIfMissing","value","setFiberRef","unhandledErrorLogLevel","addObserver","exit","current","isSome","remove","isFailure","isInterruptedOnly","cause","unsafeDone","fiberIdWith","fiberId","sync","unsafeGet","unsafeHas","interrupt","forEach","constInterruptedFiber","undefined","runFork","run","isEffect","effect","uninterruptibleMask","restore","tap","forkDaemon","size","join","await"],"sources":["../../src/FiberMap.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}